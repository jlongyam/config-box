/*! Copyright (c) 2023 jlongyam MIT License | https://github.com/jlongyam/config-box */
class ConfigBox{constructor(e){this.title=e||"CONFIG"}#e={};#t(){let e=createElement("div",{classList:"config-box",draggable:"true"}),t=createElement("div",{classList:"config-box_head"}),s=createElement("span",{classList:"config-box_title",textContent:this.title}),i=createElement("span",{classList:"config-box_close"}),o=createElement("div",{classList:"config-box_body"});document.body.appendChild(e),e.appendChild(t),t.appendChild(s),t.appendChild(i),e.appendChild(o),this.#e.root=e,this.#e.head=t,this.#e.title=s,this.#e.close=i,this.#e.body=o}#s(){window.addEventListener("dragover",(e=>e.preventDefault()),!1),this.#e.root.addEventListener("drag",(e=>{e.target.style.left=e.clientX+"px",e.target.style.top=e.clientY+"px",e.target.style.visibility="hidden"})),this.#e.root.addEventListener("dragend",(e=>e.target.style.visibility="visible")),this.#e.close.addEventListener("click",(()=>this.#e.root.remove()))}createText(e="LABEL"){let t=createElement("div",{classList:"config-box_field"}),s=createElement("span",{classList:"config-box_text",textContent:e});t.appendChild(s),this.#e.body.appendChild(t)}createAction(e,t){let s=createElement("div",{classList:"config-box_field"}),i=createElement("span",{classList:"config-box_action",textContent:e});s.appendChild(i),this.#e.body.appendChild(s),i.addEventListener("click",t)}start(){this.#t(),this.#s()}fixed(){this.#e.root.style.top="2px",this.#e.root.style.right="2px",this.#e.root.style.left="auto",this.#e.root.removeAttribute("draggable");let e=getComputedStyle(this.#e.root).getPropertyValue("z-index");this.#e.root.style.zIndex=--e}get body(){return this.#e.body}}class ConfigChoose{constructor(e){this.parent=e}chooses=[];#i="";#o=!1;create(e={One:!0,Two:!0,Three:!1},t){let s=createElement("div",{classList:"config-box_field"}),i=createElement("div",{classList:"config-box_choose"});s.appendChild(i),e.forEach(((e,s)=>{let o=createElement("span",{classList:"config-box_choose-item",textContent:s});i.appendChild(o),e&&(o.classList.add("active"),this.chooses.push(s)),o.addEventListener("click",(()=>{if(o.classList.toggle("active"),o.classList.contains("active"))this.chooses.includes(s)||this.chooses.push(s),this.#o=!0;else{let e=this.chooses.indexOf(s);this.chooses.splice(e,1),this.#o=!1}this.#i=s,t&&t(this.#i,this.#o)}))})),this.parent.appendChild(s)}}class ConfigSwitch{constructor(e){this.parent=e}#i="";create(e=["One","Two","Three"],t){let s=createElement("div",{classList:"config-box_field"}),i=createElement("div",{classList:"config-box_switch"});s.appendChild(i);let o=i.children;e.forEach((e=>{let s=createElement("span",{classList:"config-box_switch-item",textContent:e});i.appendChild(s),s.addEventListener("click",(()=>{var i;s.classList.toggle("active"),i=s,o.forEach((e=>{e!=i&&e.classList.remove("active")})),this.#i=e,t&&t(this.#i)}))})),this.parent.appendChild(s)}}